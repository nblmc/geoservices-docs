[](guide.md "yes")


# Selecting Data {docsify-ignore}

## NHGIS.ORG {docsify-ignore}

1. Visit [nhgis.org](https://nhgis.org/ "nhgis.org").


2. Choose **Start Here: Get Data** in the center of the page, or the **Browse and Select Data** option in the left-hand menu, under DATA. 

<img src='/media/img/starthere.png'></img>

<div class = "considerations"> 
❗ <a href = "https://geoservices.leventhalmap.org/docs/#/guides/data-guides/census/considerations?id=picking-a-service" target = "_self">Why do we use NHGIS to download census data for mapping? </a> 
</div> 

## Data Filters {docsify-ignore}

1. Select **Topics** from the filter menu. 

2. We are interested in age, so select **Age** under **Core Demographics**, by clicking the green plus sign. 

Based on our filtering so far, there are 10,067 tables of data and 1,396 geography files available.

<img src='/media/img/filters.png'></img>

3. To further narrow down the data tables and geography files to only the most recent, select the filter **Years**. 


4. Select the most recent year available, **2018**. You could also select the five-year range, **2014-2018**. Click submit.

There are now 672 tables of data and 85 geography files available. 

<img src='/media/img/filters-2.png'></img>


<div class = "considerations"> 
❗ <a href = "https://geoservices.leventhalmap.org/docs/#/guides/data-guides/census/considerations?id=picking-a-service" target = "_self">How do NHGIS filters work? </a> 
</div> 

<div class = "considerations"> 
❗ <a href = "https://geoservices.leventhalmap.org/docs/#/guides/data-guides/census/considerations?id=years" target = "_self">What's the difference between all the year options?</a> 
</div> 



The final filter we wish to use is the "Geographic Levels" filter. This will determine the geographic unit by which we will aggregate our statistical information. The Census Bureau makes data available in the aggregate, as opposed to providing information about individuals. For example, instead of downloading a spreadsheet where every row represents one person, and contains information about that person, we have access to counts or tallies of people who live in certain areas. For example, if we were to select "State" from the Geographic Levels filter, we would be downloading a spreadsheet where every row represents one US state, and contains counts about the number of under-18 population in that state. 


In this example, we are mapping Boston, so a good geographic unit to select is census tract. County-level data would not be specific enough to give us a meaningful understanding of geographic patterns. Most modern day data are available at the tract level, which is more specific than state or county. Some, but not all data is even available at the block-level!


An important factor to keep in mind when aggregating statistical figures to a geographic area is the often arbitrary and sometimes intentional ways borders are defined, and how those choices can affect how we read the geographic distribution. This problem is called the Modifiable Areal Unit Problem (MAUP), and is demonstrated in this graphic below:

![maup](https://geoservices.leventhalmap.org/docs/media/img/maup.png)

This graphic depicts how, depending on where the boundary line is drawn, singular occurrences of a phenomenon are grouped together differently, changing our visual reading of any given area's percentage or proportion of the phenomenon at hand. 

Being aware of issues like margins of error and MAUP make us more critical consumers and more effective and ethical creators of visual graphics.

!>  Under Geographic Levels, select **Census Tract**

Our results have now been filtered down to a few hundred, rather than ten thousand. You will notice there are lots of different ways age demographic data is organized and categorized. The dataset we are looking for doesn't appear in our results until page 5.


!>  Click through to page 5 of the results and find dataset "Population Under 18 Years by Age". 


You will need to use the datasets' title descriptions and classification breakdowns to determine which datasets are of most use to your project.

In this case, we were looking for population data broken into different age brackets, because we were interested in evaluating the impact of library locations on different school-age populations.

You can learn more about each dataset's classfication by clicking on the variable name under the column "Classifications"

!>  Under Classifications, click **Age(8)**

![age](https://geoservices.leventhalmap.org/docs/media/img/age.png)


Upon clicking on the age variable's classification breakdown, the data appears to be categorized into age brackets: under 3 years, 3-4 years, 5 years, 6-8 years, 9-11 years, and so on. This looks promising. Let's download this dataset.


!>  Add the dataset to your cart by clicking the green plus sign to the left of the data listing

Your "cart" in the upper right-hand corner of the webpage will now reflect that you have added one source table.


![cart](https://geoservices.leventhalmap.org/docs/media/img/cart.png)

Remember, whatever statistical demographic information we are "checking out" is just that -- a table of figures. In order to connect this information with geography, we will need to also download a geography file at the proper unit (tract, county, state, etc.), and combine the two together, after we have downloaded them. 

![no-gis](https://geoservices.leventhalmap.org/docs/media/img/no-gis.png)


Normally, GIS files at the geographic unit we have selected will appear under the tab "GIS Files". Right now, it is telling us that there are 0 GIS Files.

The reason no GIS files are appearing is because we have selected a non-decennial year, 2018. While American Community Survey (ACS) data is being constantly collected, they are aggregated to the most recent decennial geography, which is only updated every ten years. That means we will need to change our **year** filter to 2010 in order to obtain a correct census tract file to join our statistical information with. 

!>  Change the **Years** filter to **2010**

The GIS Files tab should now have two listings

![years](https://geoservices.leventhalmap.org/docs/media/img/years.png)


!>  Add the first record to your cart, the one that uses the 2010 TIGER/Line as its basis

Your cart should now list 1 Source Table and 1 GIS File

![checkout cart](https://geoservices.leventhalmap.org/docs/media/img/cart2.png)

!>  Inside the data cart, select **Continue**

You will be brought to a page to review your selection. 

!>  Select **Continue** again

On the final Review and Submit page, observe the options. The defaults (comma delimited and data all in one spreadsheet) are OK for our purposes.

!>  Select **Submit**

Here you will be prompted to create a free account. This is used to manage your download history. 

!>  Create an account 

Once you have created your account and the data request has been processed (it takes a little under five minutes), you will receive an email that your data is ready to download. You can also refresh the Extracts History page until your extract is ready. 

You will know it is done when **tables** and **gis** appear with a file size. 

![extract](https://geoservices.leventhalmap.org/docs/media/img/extract.png)

!>  Click on each of the files, **tables** and **gis** separately to initiate the download

The data will be downloaded as zip files.

!>  From your **Downloads** folder, right-click each of the files and "unzip" or "extract" it

The "shape" or geography files are often double-zipped. You will need to unzip this file one more time before being able to use it.

!>  Double-click the newly-extracted "nhgis0020_shape" folder. There will be another zipped folder inside, titled "nhgis0020_shapefile_tl2010_us_tract_2010". Right-click > extract or unzip this folder

## Data Codebook {docsify-ignore}

Let's take a look at the data we have downloaded, and clean it up a bit before bringing it into GIS software. 

In your Downloads folder, there should be a folder that ends with "_csv". Inside this folder there should be a .csv file, and a .txt file. 

!> Open the .csv file 

Take a look at the data. Lots of fields will be self-evident, like the State and County names. There will be lots of blank fields as well. Let's delete some blank fields to make working with the data a little easier.

!> Delete all the empty columns: "REGIONA", "DIVISIONA", "COUSUBA", "PLACEA", and the big gap starting with "CONCITA" up to "BTTRA"

The remaining data has many field names that don't make a lot of intuitive sense, beginning with "AKA2E001". What does this field represent?

When you find statistical or geospatial data online in open data portals, if the data is any good, it will be accompanied by what is referred to variously as "metadata," "documentation" or, in this case "the data codebook." Essentially these files contain data *about* the data (that's why it's called *meta*-data)

Some common information included in metadata or documentation are:
- what organization collected the data
- what organization published the data
- what processing steps were performed on the data
- what year the data was collected or published
- a field name dictionary or de-coder

You can think of these files as very detailed citations, like in a book or academic paper. If you find data online and they do not have accompanying metadata that you can inspect to trace back the source's authority, it would be reasonable to be skeptical of that data. 

Luckily, NHGIS is a high-quality data provider, and includes extensive documentation with every data extract, in the format of .txt data codebooks.


!> Double-click the downloaded file ending with "_codebook.txt" to open it. 


## GIS Join {docsify-ignore}
To work with this data, we will use QGIS, a free & open geospatial software. 

!> Open QGIS. If you do not already have QGIS, download it [here](https://qgis.org/en/site/forusers/download.html "QGIS download")


*For questions related to geospatial data and mapping, please visit https://www.leventhalmap.org/research/gis/*
