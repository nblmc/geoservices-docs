## Description 
This course offers a simple introduction to the Python programming language for creating maps using code, rather than a visual software interface. It also includes basic methods for collecting and cleaning data sets from the web. 

## Upcoming dates
Thursday, February 6, 10am - noon. Register on [Eventbrite](https://www.eventbrite.com/e/mapmaking-201-basic-mapmaking-in-python-tickets-91638373843 "Eventrbite") 

Thursday, February 20, 10am - noon. Register on [Eventbrite](https://www.eventbrite.com/e/mapmaking-201-basic-mapmaking-in-python-tickets-88402665753 "Eventrbite")  - *sold out*

Thursday, March 12, 10am - noon. Register on [Eventbrite](https://www.eventbrite.com/e/mapmaking-201-basic-mapmaking-in-python-tickets-91638520281 "Eventrbite")  


Thursday, March 26, 10am - noon. Register on [Eventbrite](https://www.eventbrite.com/e/mapmaking-201-basic-mapmaking-in-python-tickets-88402868359 "Eventrbite")  

## Working at Home

To avoid download and setup steps, you can run the  jupyter notebooks in the browser using mybinder.  Follow the steps below to launch one of the github repositories in a virtual environment.  If you're not familiar with Python or Jupyter, try starting out with basics.ipynb.


# INSERT MYBINDER GIF

1. Navigate to [MyBinder](https://mybinder.org/)  
2. Paste one of the links to the repositories listed below ([Workshop Notebooks](#Workshop-Notebooks )) into the first box `GitHub repository name or URL`  
3. Click the orange `Launch` button and wait for the docker image to build

https://mybinder.org/v2/gh/viymak/data-cleaning-python-workshop/d5ecadb53f889b581d3c8a2c466e4fda71ed4247


## Workshop Notebooks  
To work through the full learning activity, open any of the repositories below in [MyBinder](https://mybinder.org)  
[Python Basics]()  
Heatmap: [https://github.com/brankominick/Leaflet-maps](https://github.com/brankominick/Leaflet-maps)  
Data Cleaning with Maps: [https://github.com/viymak/data-cleaning-python-workshop](https://github.com/viymak/data-cleaning-python-workshop)  

## Workshop Modules
*For quick reference, you can find the functions explored in the workshop here:*

#### Filtering Data
<!-- tabs:start -->
#### ** Example **
#### ** Tutorial **
#### ** Answer **
<!-- tabs:end -->


#### Removing Data
<!-- tabs:start -->
#### ** Example **
```
# Create Dataframe
dictionary = {'branch': [Central Library in Copley Square,Chinatown,North End,West End], 'address': [700 Boylston Street Boston MA 02116,,25 Parmenter St Boston MA 02113,, 'phone': [617 536-5400,617 807-8176,617 227-8135, 617 523-3957], network: [BPL,BPL,BPL,BPL]}
bpl_branches = DataFrame(data=d)

# Drop Columns
# Syntax: your_dataframe.drop('1st_dropped_column','2nd_column', 'n_dropped_column' ) - Use axis 0 for rows and axis 1 for columns
bpl_branches.drop('phone', 'network')

```

#### ** Tutorial **
```
# Your Dataframe
dictionary = {'branch': [Central Library in Copley Square,Chinatown,North End,West End], 'address': [700 Boylston Street Boston MA 02116,,25 Parmenter St Boston MA 02113,, 'phone': [617 536-5400,617 807-8176,617 227-8135, 617 523-3957], network: [BPL,BPL,BPL,BPL]}
bpl_branches = DataFrame(data=d)

# Use the dropna function to delete rows that contain no data values in the address column
# Syntax: DataFrame.dropna(axis=0, how='any', thresh=None, subset=None, inplace=False)

drop_na = 

# Check results

```
#### ** Answer **
```
# Use the dropna function to delete rows that contain no data values in the address column
# Syntax: DataFrame.dropna(axis=0, how='any', thresh=None, subset=None, inplace=False) - Use axis 0 for rows and axis 1 for columns

drop_na = bpl_branches.dropna(subset=['address'])

# Check results
dropna.head()
```
<!-- tabs:end -->

![merges](/media/img/merges.png)
#### Merging Data
<!-- tabs:start -->
#### ** Example **
```
dataframe_1 = 
dataframe_2 = 
```
#### ** Tutorial **
#### ** Answer **
<!-- tabs:end -->

#### Transform Data
<!-- tabs:start -->
#### ** Example **
#### ** Tutorial **
#### ** Answer **
<!-- tabs:end -->


# INSERT NOMINATIM GIF

We will use:
- [Nominatim](https://nominatim.openstreetmap.org/) is a free search engine for OpenStreetMap data.  Review the [usage policy](https://operations.osmfoundation.org/policies/nominatim/) for limits.
- [GeoPy](https://geopy.readthedocs.io/en/stable/) allows you to easily use third party geocoders in python.

#### Geocoding
*Address to geographic coordinates*  

*Often, you will find that your data contains a street address without coordinates.  In order to place these points on a map, you will need to reformat these locations as latitude and longitude.*

For this example we will use a dataframe containing information about BPL's branches with addresses
![bpl_dataframe](/media/img/bpl_dataframe.png)

<!-- tabs:start -->

#### ** Example **

```#Import libraries
from geopy.geocoders import Nominatim    
from geopy.extra.rate_limiter import RateLimiter #optional for our purposes  

# Create Dataframe
dictionary = {'branch': [Central Library in Copley Square,Chinatown,North End,West End], 'address': [700 Boylston Street Boston MA 02116,2 Boylston Street Boston MA 02116,25 Parmenter St Boston MA 02113,151 Cambridge St Boston MA 02114]}
bpl_branches = DataFrame(data=d)

geolocator = Nominatim(user_agent='bpl_geolocator')

#One Address
location = geolocator.geocode('Charlestown Library')
print(location.latitude, location.longitude)
```

#### ** Tutorial **
```#Loop through Addresses


```

#### ** Answer **
```
# Import libraries
from geopy.geocoders import Nominatim    
from geopy.extra.rate_limiter import RateLimiter

# Create geocoding function named geocode
geocode = RateLimiter(locator.geocode, min_delay_seconds=1)


```
<!-- tabs:end -->




#### Reverse Geocoding
*Geographic coordinates to human readable address*

*Sometimes, you will find that your data contains coordinates, but that you would also like a location format that can be more easily digested by humans*

<!-- tabs:start -->

#### ** Example **

```
from geopy.geocoders import Nominatim  
from geopy.extra.rate_limiter import RateLimiter #optional for our purposes since we have so few addresses

#Loop through Addresses  
# Define reverse Geocoding function
locator = Nominatim(user_agent="my_app_name", timeout=10)
reverse_geocode = RateLimiter(locator.reverse, min_delay_seconds=.01)

#Create a new geometry column and call the function we created
bpl_branches["address"] = bpl_branches["geometry"].apply(reverse_geocode)

#Check out results
bpl_branches.head()
```

#### ** Tutorial **
```
from geopy.geocoders import Nominatim

#One Address
```

#### ** Answer **

<!-- tabs:end -->
